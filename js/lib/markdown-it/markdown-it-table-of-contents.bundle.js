/* esm.sh - esbuild bundle(markdown-it-table-of-contents@0.6.0) es2022 production */
var m=Object.create;var p=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var _=Object.getOwnPropertyNames;var H=Object.getPrototypeOf,L=Object.prototype.hasOwnProperty;var b=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports);var A=(e,n,r,l)=>{if(n&&typeof n=="object"||typeof n=="function")for(let t of _(n))!L.call(e,t)&&t!==r&&p(e,t,{get:()=>n[t],enumerable:!(l=y(n,t))||l.enumerable});return e};var F=(e,n,r)=>(r=e!=null?m(H(e)):{},A(n||!e||!e.__esModule?p(r,"default",{value:e,enumerable:!0}):r,e));var h=b((P,v)=>{"use strict";var T=function(e){return encodeURIComponent(String(e).trim().toLowerCase().replace(/\s+/g,"-"))},C={includeLevel:[1,2],containerClass:"table-of-contents",slugify:T,markerPattern:/^\[\[toc\]\]/im,listType:"ul",format:function(e,n){return n.renderInline(e)},forceFullToc:!1,containerHeaderHtml:void 0,containerFooterHtml:void 0,transformLink:void 0};function w(e,n,r){let l=[],t=null;return n.forEach(c=>{if(c.type==="heading_open"){let o=E(c),s=parseInt(c.tag.toLowerCase().replace("h",""),10);e.indexOf(s)>=0&&(t={level:s,text:null,anchor:o||null})}else if(t&&c.type==="inline"){let o=c.children.filter(s=>s.type==="text"||s.type==="code_inline").reduce((s,i)=>s+i.content,"");t.text=o,t.anchor||(t.anchor=r.slugify(o,c.content))}else c.type==="heading_close"&&(t&&l.push(t),t=null)}),l}function E(e){if(e&&e.attrs&&e.attrs.length>0){let n=e.attrs.find(r=>Array.isArray(r)&&r.length>=2?r[0]==="id":!1);if(n&&Array.isArray(n)&&n.length>=2){let[r,l]=n;return l}}return null}function O(e){return Math.min(...e.map(n=>n.level))}function a(e,n,r,l){let t={level:e,text:n,anchor:r,children:[],parent:l};return l.children.push(t),t}function k(e){let n={level:O(e)-1,anchor:null,text:null,children:[],parent:null},r=n,l=r;return e.forEach(t=>{if(t.level>l.level)Array.from({length:t.level-l.level}).forEach(c=>{r=l,l=a(t.level,null,null,r)}),l.text=t.text,l.anchor=t.anchor;else if(t.level===l.level)l=a(t.level,t.text,t.anchor,r);else if(t.level<l.level){for(let c=0;c<l.level-t.level;c++)r=r.parent;l=a(t.level,t.text,t.anchor,r)}}),n}function d(e,n,r){return"<"+n.listType+">"+e.children.map(l=>{let t="<li>",c=l.anchor;n&&n.transformLink&&(c=n.transformLink(c));let o=l.text?n.format(l.text,r,c):null;return t+=c?`<a href="#${c}">${o}</a>`:o||"",t+(l.children.length>0?d(l,n,r):"")+"</li>"}).join("")+"</"+n.listType+">"}v.exports=function(e,n){let r=Object.assign({},C,n),l=r.markerPattern,t;function c(o,s){let i,u;if(o.src.charCodeAt(o.pos)!==91||s||(u=l.exec(o.src.substr(o.pos)),u=u?u.filter(function(g){return g}):[],u.length<1))return!1;i=o.push("toc_open","toc",1),i.markup="[[toc]]",i=o.push("toc_body","",0),i=o.push("toc_close","toc",-1);var f=o.src.indexOf(`
`,o.pos);return f!==-1?o.pos=f:o.pos=o.pos+o.posMax+1,!0}e.renderer.rules.toc_open=function(o,s){var i='<div class="'+r.containerClass+'">';return r.containerHeaderHtml&&(i+=r.containerHeaderHtml),i},e.renderer.rules.toc_close=function(o,s){var i="";return r.containerFooterHtml&&(i=r.containerFooterHtml),i+"</div>"},e.renderer.rules.toc_body=function(o,s){if(r.forceFullToc)throw"forceFullToc was removed in version 0.5.0. For more information, see https://github.com/Oktavilla/markdown-it-table-of-contents/pull/41";{let i=w(r.includeLevel,t.tokens,r),u=k(i);return d(u,r,e)}},e.core.ruler.push("grab_state",function(o){t=o}),e.inline.ruler.after("emphasis","toc",c)}});var M=F(h()),{default:x,...R}=M,$=x!==void 0?x:R;export{$ as default};
