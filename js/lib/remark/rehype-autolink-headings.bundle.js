/* esm.sh - esbuild bundle(rehype-autolink-headings@6.1.1) es2022 production */
var L=Object.create;var x=Object.defineProperty;var q=Object.getOwnPropertyDescriptor;var z=Object.getOwnPropertyNames;var G=Object.getPrototypeOf,J=Object.prototype.hasOwnProperty;var M=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var Q=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of z(e))!J.call(r,i)&&i!==t&&x(r,i,{get:()=>e[i],enumerable:!(n=q(e,i))||n.enumerable});return r};var W=(r,e,t)=>(t=r!=null?L(G(r)):{},Q(e||!r||!r.__esModule?x(t,"default",{value:r,enumerable:!0}):t,r));var B=M((cr,V)=>{"use strict";var E=Object.prototype.hasOwnProperty,S=Object.prototype.toString,k=Object.defineProperty,_=Object.getOwnPropertyDescriptor,j=function(e){return typeof Array.isArray=="function"?Array.isArray(e):S.call(e)==="[object Array]"},F=function(e){if(!e||S.call(e)!=="[object Object]")return!1;var t=E.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&E.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!n)return!1;var i;for(i in e);return typeof i>"u"||E.call(e,i)},T=function(e,t){k&&t.name==="__proto__"?k(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},C=function(e,t){if(t==="__proto__")if(E.call(e,t)){if(_)return _(e,t).value}else return;return e[t]};V.exports=function r(){var e,t,n,i,l,a,u=arguments[0],s=1,y=arguments.length,p=!1;for(typeof u=="boolean"&&(p=u,u=arguments[1]||{},s=2),(u==null||typeof u!="object"&&typeof u!="function")&&(u={});s<y;++s)if(e=arguments[s],e!=null)for(t in e)n=C(u,t),i=C(e,t),u!==i&&(p&&i&&(F(i)||(l=j(i)))?(l?(l=!1,a=n&&j(n)?n:[]):a=n&&F(n)?n:{},T(u,{name:t,newValue:r(p,a,i)})):typeof i<"u"&&T(u,{name:t,newValue:i}));return u}});var b=W(B(),1);var Z={}.hasOwnProperty;function D(r,e){var t=e&&r&&typeof r=="object"&&r.type==="element"&&r.properties&&Z.call(r.properties,e)&&r.properties[e];return t!=null&&t!==!1}function K(r){var e=r&&r.type==="element"&&r.tagName.toLowerCase()||"",t=e.length===2&&e.charCodeAt(0)===104?e.charCodeAt(1):0;return t>48&&t<55?t-48:null}var O=function(r){if(r==null)return A;if(typeof r=="string")return rr(r);if(typeof r=="object")return $(r);if(typeof r=="function")return R(r);throw new Error("Expected function, string, or array as test")};function $(r){let e=[],t=-1;for(;++t<r.length;)e[t]=O(r[t]);return R(n);function n(...i){let l=-1;for(;++l<e.length;)if(e[l].call(this,...i))return!0;return!1}}function rr(r){return e;function e(t){return A(t)&&t.tagName===r}}function R(r){return e;function e(t,...n){return A(t)&&Boolean(r.call(this,t,...n))}}function A(r){return Boolean(r&&typeof r=="object"&&r.type==="element"&&typeof r.tagName=="string")}var N=function(r){if(r==null)return or;if(typeof r=="string")return nr(r);if(typeof r=="object")return Array.isArray(r)?er(r):tr(r);if(typeof r=="function")return P(r);throw new Error("Expected function, string, or object as test")};function er(r){let e=[],t=-1;for(;++t<r.length;)e[t]=N(r[t]);return P(n);function n(...i){let l=-1;for(;++l<e.length;)if(e[l].call(this,...i))return!0;return!1}}function tr(r){return P(e);function e(t){let n;for(n in r)if(t[n]!==r[n])return!1;return!0}}function nr(r){return P(e);function e(t){return t&&t.type===r}}function P(r){return e;function e(...t){return Boolean(r.call(this,...t))}}function or(){return!0}var H=!0,d="skip",I=!1,U=function(r,e,t,n){typeof e=="function"&&typeof t!="function"&&(n=t,t=e,e=null);let i=N(e),l=n?-1:1;a(r,null,[])();function a(u,s,y){let p=typeof u=="object"&&u!==null?u:{},m;return typeof p.type=="string"&&(m=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0,Object.defineProperty(g,"name",{value:"node ("+(p.type+(m?"<"+m+">":""))+")"})),g;function g(){let o=[],f,c,h;if((!e||i(u,s,y[y.length-1]||null))&&(o=ir(t(u,y)),o[0]===I))return o;if(u.children&&o[0]!==d)for(c=(n?u.children.length:-1)+l,h=y.concat(u);c>-1&&c<u.children.length;){if(f=a(u.children[c],c,h)(),f[0]===I)return f;c=typeof f[1]=="number"?f[1]:c+l}return o}}};function ir(r){return Array.isArray(r)?r:typeof r=="number"?[H,r]:[r]}var X=function(r,e,t,n){typeof e=="function"&&typeof t!="function"&&(n=t,t=e,e=null),U(r,e,i,n);function i(l,a){let u=a[a.length-1];return t(l,u?u.children.indexOf(l):null,u)}};var ur={type:"element",tagName:"span",properties:{className:["icon","icon-link"]},children:[]};function Y(r={}){let e=r.properties,t=r.behaviour||r.behavior||"prepend",n=r.content||ur,i=r.group,l=O(r.test),a;return t==="wrap"?a=y:t==="before"||t==="after"?a=s:(e||(e={ariaHidden:"true",tabIndex:-1}),a=u),o=>{X(o,"element",(f,c,h)=>{if(K(f)&&D(f,"id")&&l(f,c,h))return a(f,c,h)})};function u(o){return o.children[t==="prepend"?"unshift":"push"](g(o,(0,b.default)(!0,{},e),p(n,o))),[d]}function s(o,f,c){if(typeof f!="number"||!c)return;let h=g(o,(0,b.default)(!0,{},e),p(n,o)),v=t==="before"?[h,o]:[o,h];if(i){let w=m(i,o);w&&!Array.isArray(w)&&w.type==="element"&&(w.children=v,v=[w])}return c.children.splice(f,1,...v),[d,f+v.length]}function y(o){return o.children=[g(o,(0,b.default)(!0,{},e),o.children)],[d]}function p(o,f){let c=m(o,f);return Array.isArray(c)?c:[c]}function m(o,f){return typeof o=="function"?o(f):(0,b.default)(!0,Array.isArray(o)?[]:{},o)}function g(o,f,c){return{type:"element",tagName:"a",properties:Object.assign({},f,{href:"#"+(o.properties||{}).id}),children:c}}}export{Y as default};
